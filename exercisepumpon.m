data = [
8.192407
7.666927
8.717887
7.141447
7.666927
7.404187
8.717887
7.404187
6.615967
5.039526
6.090486
5.565006
6.615967
5.827746
6.353227
4.776786
6.353227
7.141447
5.827746
6.353227
5.302266
6.615967
5.565006
3.725826
6.353227
5.565006
6.353227
14.498167
20.541188
36.042851
42.611352
34.99189
27.897909
20.541188
11.345287
2.412126
-0.215274
-0.478014
2.412126
8.980627
11.608027
15.549127
15.549127
16.337348
14.760907
13.972687
11.082547
9.506107
8.980627
9.243367
12.133507
13.972687
13.184467
15.286387
14.498167
13.972687
15.549127
13.709947
13.184467
12.396247
11.608027
11.345287
11.345287
11.082547
10.031587
10.031587
9.243367
11.345287
9.243367
8.980627
9.768847
9.243367
9.506107
8.980627
7.929667
7.666927
8.455147
8.717887
6.878707
7.929667
6.878707
7.141447
7.404187
7.404187
4.776786
6.878707
7.141447
6.615967
7.141447
7.929667
6.353227
6.615967
6.353227
5.039526
6.615967
6.353227
4.514046
6.353227
8.455147
13.184467
22.643108
27.635169
38.407511
40.772171
29.999829
21.854888
14.235427
3.988566
2.937606
2.149386
2.937606
7.666927
8.980627
15.811868
15.811868
17.388308
13.709947
14.760907
7.141447
9.768847
9.768847
11.608027
13.184467
15.549127
16.600088
16.862828
17.125568
15.023647
13.709947
13.709947
14.235427
12.921727
12.396247
11.608027
11.608027
11.870767
9.768847
12.658987
10.819807
11.082547
10.557067
9.506107
10.031587
8.980627
10.031587
9.506107
7.929667
8.192407
7.404187
6.878707
7.666927
8.192407
6.615967
8.455147
6.615967
7.666927
6.353227
6.090486
6.090486
5.302266
6.615967
5.827746
5.827746
6.878707
7.141447
4.776786
5.565006
4.776786
5.565006
5.827746
7.141447
20.278448
29.737089
29.999829
35.25463
32.62723
31.31353
20.541188
13.447207
6.615967
-0.215274
1.623906
3.200346
8.192407
10.294327
15.286387
14.235427
17.651048
16.074608
13.447207
11.345287
8.717887
7.929667
10.031587
11.870767
13.709947
16.074608
16.600088
16.862828
16.337348
13.184467
13.972687
13.184467
12.133507
10.819807
11.608027
11.082547
10.819807
10.819807
11.082547
11.345287
9.768847
10.294327
10.294327
10.031587
8.717887
9.506107
8.192407
8.717887
7.666927
8.717887
7.929667
7.666927
7.404187
7.929667
6.878707
7.404187
5.827746
6.090486
7.141447
6.090486
6.353227
7.141447
6.615967
7.141447
5.827746
6.615967
6.615967
6.353227
6.090486
5.039526
6.090486
7.404187
15.549127
32.36449
32.36449
38.144771
27.372429
24.219549
24.482289
9.506107
9.506107
3.988566
1.886646
4.776786
8.980627
10.557067
12.658987
16.074608
15.286387
17.125568
13.447207
12.396247
12.921727
11.870767
12.396247
13.447207
14.498167
16.074608
16.600088
16.074608
15.023647
15.286387
13.709947
14.760907
14.498167
14.760907
12.921727
12.921727
11.345287
11.870767
12.133507
11.082547
12.133507
11.082547
10.819807
10.557067
8.717887
9.506107
8.980627
9.243367
9.243367
10.031587
7.404187
7.929667
7.404187
6.878707
7.666927
7.404187
6.353227
7.404187
6.615967
6.615967
6.090486
6.878707
7.141447
6.090486
6.353227
6.615967
5.565006
5.565006
4.514046
5.302266
7.404187
8.717887
18.964748
25.007769
29.999829
41.823132
31.57627
22.643108
17.651048
13.709947
5.302266
5.302266
3.200346
2.937606
7.929667
12.658987
11.608027
16.337348
12.658987
13.972687
14.235427
11.082547
8.980627
11.082547
11.345287
13.184467
15.549127
14.498167
15.286387
16.862828
14.498167
14.760907
14.498167
13.709947
12.396247
11.082547
11.345287
10.819807
11.345287
10.819807
11.345287
10.557067
9.768847
10.819807
11.082547
10.557067
8.192407
8.980627
10.031587
9.243367
8.980627
7.141447
7.141447
6.878707
8.192407
7.141447
7.404187
8.192407
6.353227
6.615967
7.141447
7.141447
8.455147
6.353227
6.878707
7.666927
6.878707
6.353227
6.615967
5.565006
5.827746
6.353227
6.878707
9.506107
18.439268
29.474349
36.042851
32.10175
36.831071
25.007769
13.972687
8.980627
8.717887
3.725826
3.463086
6.615967
10.557067
11.345287
16.600088
18.176528
15.286387
14.235427
13.972687
10.557067
7.929667
7.141447
11.608027
13.447207
13.709947
16.600088
16.074608
16.862828
17.388308
14.235427
13.709947
12.396247
11.082547
11.082547
12.133507
11.345287
10.819807
11.082547
12.133507
11.870767
10.557067
10.557067
11.082547
9.243367
8.717887
9.243367
10.294327
9.243367
8.980627
8.717887
8.192407
8.455147
7.666927
7.929667
8.455147
7.666927
6.878707
7.666927
7.404187
8.192407
7.141447
7.141447
7.404187
5.827746
6.353227
6.878707
8.192407
7.141447
6.090486
7.141447
6.878707
8.980627
21.592148
27.897909
33.94093
39.458471
30.78805
27.897909
17.651048
8.192407
3.463086
-0.215274
2.674866
7.404187
10.557067
12.658987
16.600088
17.651048
15.286387
16.337348
15.549127
12.658987
10.031587
12.133507
12.133507
13.184467
15.023647
15.549127
15.023647
15.286387
14.760907
15.549127
16.074608
13.709947
12.921727
12.133507
10.031587
12.133507
10.819807
11.345287
11.345287
10.557067
10.819807
10.819807
11.082547
10.031587
10.031587
8.980627
8.980627
8.455147
8.455147
7.929667
7.404187
8.717887
8.192407
6.878707
7.666927
7.141447
6.353227
6.878707
6.878707
6.090486
5.827746
5.827746
6.878707
7.666927
7.404187
5.565006
5.827746
6.353227
4.776786
2.149386
5.827746
8.717887
12.921727
28.423389
39.195731
38.144771
38.407511
23.431329
20.015708
11.082547
1.886646
-1.528974
2.149386
2.937606
8.980627
15.023647
16.074608
17.913788
18.439268
14.498167
13.972687
10.557067
8.192407
10.557067
11.345287
13.709947
15.023647
16.337348
16.862828
17.125568
16.337348
16.862828
14.760907
13.972687
12.133507
11.608027
12.133507
12.396247
12.658987
11.345287
11.608027
11.345287
10.819807
10.819807
10.557067
8.455147
8.717887
8.455147
7.929667
9.506107
8.717887
7.929667
9.243367
8.455147
8.192407
7.141447
7.666927
8.455147
7.929667
7.141447
6.615967
6.353227
5.827746
6.615967
6.353227
6.090486
6.878707
6.615967
6.878707
5.827746
5.827746
3.200346
7.141447
7.141447
11.870767
23.694069
32.62723
44.187792
38.670251
31.83901
18.439268
13.709947
4.251306
2.937606
0.835686
2.412126
5.827746
11.608027
15.549127
16.074608
18.702008
16.337348
12.658987
11.608027
9.506107
10.031587
12.133507
12.921727
13.972687
15.811868
17.388308
16.337348
16.600088
14.235427
15.023647
13.184467
12.658987
12.921727
11.870767
12.396247
11.345287
11.345287
11.345287
11.608027
10.557067
9.506107
10.557067
10.294327
8.980627
9.243367
7.929667
8.717887
9.768847
8.455147
7.666927
8.717887
7.666927
7.929667
9.243367
6.878707
8.980627
7.929667
7.404187
6.615967
7.929667
7.666927
7.404187
6.615967
5.565006
6.615967
6.878707
5.302266
1.886646
4.776786
6.090486
7.141447
15.286387
23.168588
28.686129
35.51737
39.983951
29.474349
23.431329
12.133507
7.141447
4.251306
1.361166
4.251306
7.404187
11.345287
12.658987
18.702008
15.811868
17.125568
11.870767
11.608027
8.980627
8.980627
10.294327
12.921727
15.023647
15.286387
17.125568
15.549127
16.600088
15.549127
14.760907
13.709947
12.396247
10.819807
11.870767
11.870767
11.608027
11.608027
11.608027
10.294327
11.082547
10.557067
10.294327
8.980627
8.455147
9.243367
8.455147
8.455147
7.929667
7.929667
7.929667
7.929667
7.404187
7.404187
7.404187
6.878707
7.666927
8.455147
5.827746
7.141447
8.192407
6.878707
6.353227
6.090486
6.090486
6.353227
5.565006
3.988566
5.827746
5.302266
7.141447
7.404187
19.227488
26.584209
35.51737
32.36449
28.160649
31.57627
20.541188
13.447207
6.353227
-0.740754
2.412126
2.937606
10.294327
11.082547
15.023647
16.600088
14.235427
20.278448
15.811868
11.082547
8.980627
10.031587
11.082547
12.396247
14.498167
15.549127
15.286387
16.862828
16.862828
14.235427
14.760907
13.972687
12.396247
12.133507
11.608027
10.294327
11.608027
11.870767
11.870767
11.870767
10.294327
10.031587
10.294327
9.506107
9.768847
8.717887
9.243367
8.980627
8.717887
7.929667
9.243367
7.929667
7.666927
7.666927
6.878707
6.878707
8.192407
6.090486
7.141447
6.353227
7.666927
6.090486
7.404187
7.666927
5.565006
6.615967
6.353227
6.878707
5.827746
5.039526
5.565006
8.192407
18.702008
22.117628
39.458471
36.305591
29.211609
23.694069
22.380368
12.133507
10.294327
5.039526
1.361166
6.615967
8.717887
10.294327
13.709947
12.658987
17.125568
15.286387
13.972687
11.608027
10.031587
10.031587
11.345287
11.870767
13.184467
15.286387
15.811868
17.388308
15.549127
15.811868
13.447207
13.709947
11.082547
10.819807
11.082547
10.557067
11.608027
12.396247
11.870767
11.345287
10.819807
10.819807
9.506107
10.031587
8.717887
8.980627
8.980627
9.243367
7.929667
7.666927
8.717887
8.455147
8.192407
7.404187
8.192407
6.353227
7.929667
6.615967
6.615967
6.878707
6.878707
5.827746
6.878707
6.090486
6.090486
7.141447
4.776786
5.302266
6.090486
4.776786
6.615967
8.192407
20.278448
26.058729
30.52531
38.932991
35.25463
21.592148
16.074608
14.498167
3.725826
4.251306
3.463086
6.090486
9.506107
10.819807
16.074608
14.235427
14.498167
13.709947
13.447207
10.294327
9.768847
10.819807
12.396247
13.184467
15.811868
16.337348
16.337348
16.862828
15.549127
14.760907
13.447207
12.658987
12.133507
10.294327
10.819807
11.870767
12.133507
10.819807
11.608027
11.082547
10.819807
10.031587
9.243367
10.557067
9.768847
9.243367
9.243367
7.404187
8.455147
8.717887
8.980627
8.717887
7.666927
7.141447
6.353227
8.455147
6.878707
6.353227
7.141447
6.353227
7.141447
6.878707
5.827746
6.353227
6.353227
5.039526
5.827746
6.353227
3.988566
5.827746
6.878707
5.827746
20.803928
28.948869
32.88997
31.83901
34.72915
26.321469
16.600088
9.506107
4.251306
0.835686
3.725826
8.980627
10.819807
12.658987
15.023647
15.286387
18.176528
10.294327
12.396247
10.031587
5.565006
8.192407
10.294327
9.768847
15.023647
17.388308
17.651048
18.176528
15.286387
13.447207
13.709947
11.345287
10.557067
12.133507
11.870767
13.447207
11.870767
11.870767
11.870767
10.557067
10.557067
12.133507
9.768847
9.243367
7.141447
9.506107
8.980627
6.353227
7.666927
7.929667
10.557067
7.666927
8.717887
8.980627
6.615967
7.929667
7.929667
5.827746
6.878707
7.929667
6.615967
7.141447
7.141447
6.878707
7.404187
8.455147
7.141447
6.353227
7.404187
6.353227
5.565006
9.768847
20.015708
33.15271
31.31353
40.246691
25.795989
25.007769
18.964748
8.980627
-2.054454
2.674866
2.937606
5.565006
11.082547
12.396247
18.964748
15.286387
16.862828
17.913788
12.133507
13.447207
14.498167
10.819807
13.447207
17.388308
13.709947
15.286387
19.227488
15.023647
16.600088
18.176528
15.286387
14.760907
12.133507
11.345287
11.870767
14.760907
10.819807
11.870767
13.972687
11.345287
10.819807
8.717887
9.768847
8.980627
11.608027
8.980627
9.243367
12.921727
7.404187
7.666927
5.827746
7.929667
10.294327
8.717887
7.666927
7.929667
7.929667
6.878707
6.878707
6.353227
6.615967
6.353227
8.717887
5.827746
6.615967
9.506107
5.565006
5.565006
9.506107
4.251306
5.565006
10.031587
12.658987
24.482289
39.983951
39.721211
36.042851
25.533249
20.278448
9.768847
3.200346
0.572946
0.047466
2.412126
8.980627
12.396247
14.235427
17.651048
14.498167
14.760907
13.184467
9.243367
6.615967
10.294327
10.819807
12.133507
15.286387
13.447207
15.286387
15.549127
15.023647
14.498167
13.709947
12.658987
10.294327
11.082547
10.819807
8.717887
10.557067
10.294327
9.506107
10.031587
10.557067
5.565006
10.031587
8.980627
5.302266
8.980627
7.929667
4.514046
8.455147
7.666927
1.361166
7.929667
8.192407
1.623906
6.615967
10.557067
1.361166
6.090486
6.615967
5.039526
6.353227
5.827746
7.141447
5.827746
6.090486
2.412126
6.090486
6.090486
5.039526
6.353227
6.090486
7.666927
14.235427
18.964748
27.372429
40.509431
39.458471
32.36449
20.803928
14.235427
11.608027
0.835686
1.098426
1.886646
6.353227
10.294327
14.760907
17.651048
16.337348
13.972687
12.921727
12.133507
11.345287
8.455147
9.768847
11.082547
13.709947
15.811868
16.074608
17.125568
15.811868
21.066668
14.235427
11.870767
15.549127
11.608027
11.345287
15.811868
11.870767
11.870767
10.557067
10.031587
11.345287
10.557067
8.980627
9.768847
12.396247
8.980627
8.980627
11.345287
7.404187
7.929667
9.506107
6.878707
7.141447
6.878707
6.615967
7.141447
5.827746
6.615967
6.090486
4.251306
5.565006
7.666927
6.353227
6.090486
5.565006
5.302266
6.090486
5.565006
4.514046
5.039526
4.776786
6.090486
16.337348
25.007769
33.15271
30.26257
37.356551
29.999829
18.439268
13.709947
5.565006
-0.215274
0.835686
5.827746
7.929667
9.243367
13.709947
14.760907
17.388308
12.921727
12.921727
10.294327
6.353227
7.404187
10.819807
10.031587
12.921727
16.074608
14.498167
15.023647
15.549127
13.709947
13.972687
12.658987
10.557067
10.294327
11.870767
9.243367
11.082547
10.557067
8.980627
10.294327
10.031587
8.192407
9.506107
8.980627
7.929667
8.717887
9.243367
8.980627
8.455147
7.404187
8.455147
6.878707
8.192407
5.827746
8.455147
6.353227
4.514046
6.878707
6.090486
6.878707
6.615967
6.878707
4.514046
5.302266
6.090486
5.039526
4.776786
5.039526
5.039526
6.090486
4.776786
8.455147
18.702008
28.160649
32.88997
33.41545
26.846949
25.795989
20.541188
10.557067
3.988566
3.463086
1.886646
4.776786
9.768847
8.980627
15.549127
13.972687
15.549127
12.658987
15.549127
11.870767
9.506107
11.870767
11.608027
10.557067
14.235427
13.972687
16.337348
15.549127
15.286387
13.972687
13.972687
12.658987
13.447207
11.870767
10.819807
11.345287
11.345287
10.294327
11.345287
10.557067
10.557067
10.294327
9.768847
9.243367
8.980627
7.929667
8.455147
7.404187
7.404187
7.404187
7.929667
7.141447
7.666927
6.353227
6.878707
6.090486
5.827746
7.404187
6.615967
7.666927
7.141447
5.827746
4.514046
6.353227
5.039526
5.827746
4.251306
4.776786
5.827746
5.565006
5.302266
8.192407
13.447207
26.321469
31.31353
38.932991
30.78805
21.066668
18.439268
13.184467
6.353227
2.412126
1.623906
2.674866
6.878707
6.615967
12.396247
13.184467
15.023647
13.447207
12.396247
13.447207
8.192407
10.819807
10.294327
9.768847
12.396247
13.709947
15.286387
15.023647
16.074608
14.498167
12.658987
12.133507
11.082547
10.819807
9.243367
9.243367
11.345287
9.768847
10.031587
9.506107
10.819807
9.768847
9.506107
8.980627
8.455147
7.666927
8.980627
7.666927
8.455147
6.878707
7.929667
6.615967
7.404187
6.090486
6.878707
5.565006
6.615967
6.615967
6.615967
5.565006
5.302266
6.615967
5.565006
6.090486
5.302266
6.090486
5.039526
3.725826
3.725826
4.776786
6.090486
8.192407
16.337348
32.62723
26.846949
]

#[data] = xlsread('exercise pump on.xlsx', 'A2:A1511')
DISTBETWEENPEAKS = 3;

LOCALMINREQUIREMENT = 3.4; #Specify how low a localmin must be to be considered a minima
LOCALMAXREQUIREMENT = 25; #Specify how high a localmax must be considered to be a localmaxima
ESTIMATEDNUMLOCALMAX = 21; #user estimate for localmax to test software
ESTIMATEDNUMLOCALMIN = 20; #user estimate for localmin to test software

#If data is double peaked,add "DoubleSided" in the arguments for findpeaks

[peakVal, peakLoc] = findpeaks(data,"DoubleSided", "MinPeakDistance", DISTBETWEENPEAKS);

plot(data);

localmaxcount = 1;
localmincount = 1;

LocalMaxima = [];
LocalMinima = [];
LocalMinimaPeakLoc = [];
LocalMaximaPeakLoc = [];
for i = 1:(length(peakLoc))
  if(peakVal(i) > LOCALMAXREQUIREMENT)
    fprintf("LocalMaximaPeaks: %d\n", peakLoc(i));
    LocalMaximaPeakLoc(localmaxcount) = peakLoc(i);
    LocalMaxima(localmaxcount) = peakVal(i);
    localmaxcount = localmaxcount +1;
  elseif(peakVal(i) < LOCALMINREQUIREMENT)
    fprintf("Differences: %d\t%d\t%d\n\n", peakLoc(i), peakLoc(i-1), peakLoc(i) - peakLoc(i-1));
    LocalMinimaPeakLoc(localmincount) = peakLoc(i);
    LocalMinima(localmincount) = peakVal(i);
    localmincount = localmincount +1;
  end 
end
  
disp("RESULTS\n\n");
for i = 1: length(LocalMaxima)
  fprintf("Local Maxima Number: %i\t\tLocal Maxima Value: %d\t\tLocal Maxima Pos: %d\n", i, LocalMaxima(i),LocalMaximaPeakLoc(i));
end  
fprintf("Local Maxima Average: %d\n", mean(LocalMaxima));
fprintf("Local Maxima Standard Deviation: %d\n\n", std(LocalMaxima));

for i = 1: length(LocalMinima)
  fprintf("Local Minima Number: %i\t\tLocal Minima Value: %d\t\tLocal Minima Pos: %d\n", i, LocalMinima(i), LocalMinimaPeakLoc(i));
end  
fprintf("Local Minima Average: %d\n", mean(LocalMinima));
fprintf("Local Minima Standard Deviation: %d\n\n", std(LocalMinima));

if(length(LocalMaxima) == ESTIMATEDNUMLOCALMAX)
  fprintf("Did software identify same amount of LocalMaxima as user? %s", "yes\n");
else 
  fprintf("Did software identify same amount of LocalMaxima as user? %s", "no\t NOT ACCURATE LocalMaxima Data\n");
end

if(length(LocalMinima) == ESTIMATEDNUMLOCALMIN)
  fprintf("Did software identify same amount of LocalMinima as user? %s", "yes\n");
else
  fprintf("Did software identify same amount of LocalMinima as user? %s", "no\t NOT ACCURATE LocalMinima Data\n");
end



































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































